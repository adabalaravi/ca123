<h:panelGroup xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
	<p:panel id="changepw" header="#{msgs['header.changePassword']}">
		<h:panelGrid styleClass="fixedHeightPanelClass horizontalAlignClass">
			<h:form id="mainForm">

				<h:outputText escape="false" style="font-size:10px;"
					value="#{msgs['operator.password.rules']}" />

				<h:panelGrid columns="3" styleClass="alignLeftClass"
					columnClasses="firstColumnFormClass">
					<p:outputLabel for="username" value="#{msgs['operator.username']}" />
					<p:inputText id="username" disabled="true" readonly="true"
						value="#{operatorManager.selectedBean.info.username}"
						required="false" size="50" maxlength="50">
						<f:validateLength minimum="0" maximum="50" />
					</p:inputText>
					<p:message for="username" />

					<p:outputLabel for="oldPassword"
						value="#{msgs['operator.oldPassword']}" />
					<p:password id="oldPassword"
						value="#{operatorManager.selectedBean.oldPassword}" size="50"
						maxlength="50" required="true" />
					<p:message for="oldPassword" />

					<p:outputLabel for="newPassword"
						value="#{msgs['operator.newPassword']}" />
					<p:password id="newPassword" required="true"
						value="#{operatorManager.selectedBean.newPassword}" size="50"
						maxlength="50" match="confirmPassword">
						<f:validateLength for="newPassword" minimum="8" maximum="50" />
						<f:validateRegex for="newPassword"
							pattern="#{msgs['application.validation.password.pattern']}" />
					</p:password>
					<p:message for="newPassword" />

					<p:outputLabel for="confirmPassword"
						value="#{msgs['operator.confirmNewPassword']}" />
					<p:password id="confirmPassword" required="true"
						value="#{operatorManager.selectedBean.confirmPassword}" size="50"
						maxlength="50" />
					<p:message for="confirmPassword" />
				</h:panelGrid>

				<h:panelGrid styleClass="horizontalAlignClass">
					<p:commandButton value="#{msgs['button.update']}"
						styleClass = "actionButton"
						update=":appContent"
						oncomplete="handlePopupVisibility(xhr, status, args)"
						actionListener="#{operatorManager.selectedBean.changePassword}" />
				</h:panelGrid>
				<h:outputText value="#{msgs['validator.requiredFields']}" />
			</h:form>
		</h:panelGrid>
	</p:panel>
</h:panelGroup>