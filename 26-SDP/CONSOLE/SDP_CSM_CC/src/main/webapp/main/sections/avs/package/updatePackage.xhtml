<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:p="http://primefaces.org/ui">


<p:outputPanel header="#{msgs['offerDetail.updateOfferDetail']}" styleClass="minHeightPanelClass">
	<h:form id="mainForm">
	                           <h:outputText value="#{msgs['technicalPackage.update']}" styleClass="pageTitle"/>
                    <div id="barDataGrid" > 
                       <div class="barButtomOpenFilter" style="margin: 0 0 0 14px;"> Filter </div> 
                     </div>
	
	
		<center>
			<p:dataTable id="offerList" var="item" value="#{packageManager.formOfferDetails}" rowKey="#{item.offerName}" >

				<p:column>
					<f:facet name="header" >
						<h:outputText value="#{msgs['offerDetail.offerName']}"  />
					</f:facet>
					<h:outputText styleClass="offerNameStepClass" value="#{item.offerName}" />
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['offerDetail.nrc']}" />
					</f:facet>
					<p:selectOneMenu value="#{item.nrcPriceCatalogId}" style="width:90px;" valueChangeListener="#{item.selectNRCPriceChangeListener}" partialSubmit="true"
						immediate="true">
						<f:selectItems value="#{packageManager.formUtil.priceList}" />
					</p:selectOneMenu>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['offerDetail.rcPrice']}" />
					</f:facet>
					<p:selectOneMenu value="#{item.rcPriceCatalogId}" style="width:90px;" valueChangeListener="#{item.selectRCPriceChangeListener}" partialSubmit="true"
						immediate="true">
						<f:selectItems value="#{packageManager.formUtil.priceList}" />
					</p:selectOneMenu>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['offerDetail.currency']}" />
					</f:facet>
					<p:selectOneMenu value="#{item.currencyTypeId}" style="width:90px;" disabled="true">
						<f:selectItems value="#{packageManager.formUtil.currencyList}" />
					</p:selectOneMenu>
				</p:column>
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['offerDetail.rcFrequency']}" />
					</f:facet>
					<p:selectOneMenu value="#{item.rcFrequencyTypeId}" valueChangeListener="#{item.selectFrequencyChangeListener}" partialSubmit="true" immediate="true" disabled="true">
						<f:selectItems value="#{packageManager.formUtil.frequencyList}" />
					</p:selectOneMenu>
				</p:column>
				
				<!--   		
				<p:column>
					<f:facet name="header">
						<h:outputText value="#{msgs['offerDetail.days']}" />
					</f:facet>
					<h:outputText value="#{item.frequencyDays}" />
				</p:column>


							<p:column>
								<f:facet name="header">
									<h:outputText
										value="#{msgs['offerDetail.type']}" />
								</f:facet>
								<p:selectOneMenu value="#{item.mandatory}"
									partialSubmit="true" immediate="true"
									
									valueChangeListener="#{item.packageMandatoryChangeListener}">
									<f:selectItems
										value="#{packageManager.formUtil.typeList}" />
								</p:selectOneMenu>
							</p:column>
							<p:column>
								<f:facet name="header">
									<h:outputText
										value="#{msgs['offerDetail.packageLink']}" />
								</f:facet>
								<ui:fragment rendered="${item.basicFlag == false}">
									<p:selectOneMenu value="#{item.basePackageId}"
										partialSubmit="true" immediate="true">
										<f:selectItems
											value="#{packageManager.formUtil.packageLinkList}" />
									</p:selectOneMenu>
								</ui:fragment>
							</p:column>
							<p:column>
								<f:facet name="header">
									<h:outputText
										value="#{msgs['offerDetail.offerGroupNameLabel']}" />
								</f:facet>
								<ui:fragment rendered="${item.basicFlag == false}">
									<p:selectOneMenu value="#{item.groupId}" partialSubmit="true"
										immediate="true">
										<f:selectItems
											value="#{packageManager.formUtil.offerGroupNameList}" />
									</p:selectOneMenu>
								</ui:fragment>
							</p:column>
	-->
			</p:dataTable>
			<h:panelGrid columns="2">
				<p:commandButton value="#{msgs['button.cancelLabel']}"  
					styleClass="darkButtonSyle"
					action="#{menuBean.dispatchRequest}" 
					update=":appContent">
						<f:param name="breadParam" value="subscription.package.view" />
				</p:commandButton>
				<p:commandButton value="#{msgs['button.updateLabel']}" 
					styleClass="actionButton"
					actionListener="#{packageManager.finishUpdateOfferDetail}"
					oncomplete="handlePopupVisibility(xhr, status, args)" 
					update=":appContent"/>
			</h:panelGrid>
		</center>


	</h:form>
</p:outputPanel>
</html>

